-- Serviços essenciais
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Player = Players.LocalPlayer

-- Função para verificar se é SEU personagem
local function IsMyCharacter(model)
    if not model then return false end
    if model:IsA("Model") and model:FindFirstChild("Humanoid") then
        return model:GetAttribute("Player") == Player or model.Name == Player.Name
    end
    return false
end

-- Sistema principal
RunService.Heartbeat:Connect(function()
    -- Encontra a bola
    local ball = workspace:FindFirstChild("Part") -- Nome da bola no jogo
    if not ball or not ball:IsA("BasePart") then return end
    
    -- Verifica SEU personagem
    local myCharacter = Player.Character
    if not IsMyCharacter(myCharacter) then return end
    
    local myHRP = myCharacter:FindFirstChild("HumanoidRootPart")
    if not myHRP then return end
    
    -- Cálculo de distância e direção
    local ballPos = ball.Position
    local myPos = myHRP.Position
    local distance = (ballPos - myPos).Magnitude
    
    -- Verifica se está vindo na sua direção
    local ballVelocity = ball.AssemblyLinearVelocity
    local directionToMe = (myPos - ballPos).Unit
    local isApproaching = (ballVelocity.Unit:Dot(directionToMe) > 0.8) -- 80% de aproximação
    
    -- Ativa o parry apenas quando a bola está vindo para VOCÊ
    if distance < 15 and isApproaching then
        mouse1click()
    end
end)
